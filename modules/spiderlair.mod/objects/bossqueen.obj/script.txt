IfSpawned
  tmpargument = STATEWANDER
  SetState

IfKilled
  tmpargument = 0
  PlaySound
  
  tmpargument = 1
  SendMessageNear
  
  EnableExport
  BeatModule
  tmpargument = [BEAT]
  AddIDSZ
  
IfAttacked
  tmpargument = rand & 1 + 1
  PlaySound
  
IfTimeOut
  tmpargument = 50
  SetTime
  
  IfStateIsWander
    SetTurnModeToVelocity
    SetTargetToWideEnemy
      tmpargument = 3
      PlayFullSound
      tmpargument = 0
      SendMessageNear
      tmpargument = STATECOMBAT
      SetState
    Else
      tmpx = rand & 1023 + selfspawnx - 512
      tmpy = rand & 1023 + selfspawny - 512
      ClearWaypoints
      AddWaypoint
      
  IfStateIsCombat
    tmpdistance = 128*10        //10 tiles
    SetTargetToDistantEnemy
      CallForHelp               //summon any spiderlings
      tmpx = targetx
      tmpy = targety
      tmpdistance = -600
      tmpturn = rand
      Compass
      ClearWaypoints
      AddWaypoint
     
      //Attack!
      SetTurnModeToWatchTarget
      IfFacingTarget
        tmpargument = ACTIONUA
        DoAction
      
    //Enemy ran away
    Else
      tmpargument = STATEWANDER
      SetState

End
